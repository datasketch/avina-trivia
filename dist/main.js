/*! For license information please see main.js.LICENSE */
!function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=2)}([function(e,t,i){var n,s,r;s=[],void 0===(r="function"==typeof(n=function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},i=!t.document&&!!t.postMessage,n=i&&/blob:/i.test((t.location||{}).protocol),s={},r=0,a={parse:function(i,n){var o=(n=n||{}).dynamicTyping||!1;if(w(o)&&(n.dynamicTypingFunction=o,o={}),n.dynamicTyping=o,n.transform=!!w(n.transform)&&n.transform,n.worker&&a.WORKERS_SUPPORTED){var u=function(){if(!a.WORKERS_SUPPORTED)return!1;var i,n,o=(i=t.URL||t.webkitURL||null,n=e.toString(),a.BLOB_URL||(a.BLOB_URL=i.createObjectURL(new Blob(["(",n,")();"],{type:"text/javascript"})))),u=new t.Worker(o);return u.onmessage=g,u.id=r++,s[u.id]=u}();return u.userStep=n.step,u.userChunk=n.chunk,u.userComplete=n.complete,u.userError=n.error,n.step=w(n.step),n.chunk=w(n.chunk),n.complete=w(n.complete),n.error=w(n.error),delete n.worker,void u.postMessage({input:i,config:n,workerId:u.id})}var p=null;return a.NODE_STREAM_INPUT,"string"==typeof i?p=n.download?new l(n):new h(n):!0===i.readable&&w(i.read)&&w(i.on)?p=new c(n):(t.File&&i instanceof File||i instanceof Object)&&(p=new d(n)),p.stream(i)},unparse:function(e,t){var i=!1,n=!0,s=",",r="\r\n",o='"',u=o+o,l=!1,d=null;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||a.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(s=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(i=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(l=t.skipEmptyLines),"string"==typeof t.newline&&(r=t.newline),"string"==typeof t.quoteChar&&(o=t.quoteChar),"boolean"==typeof t.header&&(n=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");d=t.columns}void 0!==t.escapeChar&&(u=t.escapeChar+o)}}();var h=new RegExp(f(o),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return p(null,e,l);if("object"==typeof e[0])return p(d||c(e[0]),e,l)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:c(e.data[0])),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),p(e.fields||[],e.data||[],l);throw new Error("Unable to serialize unrecognized input");function c(e){if("object"!=typeof e)return[];var t=[];for(var i in e)t.push(i);return t}function p(e,t,i){var a="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var o=Array.isArray(e)&&0<e.length,u=!Array.isArray(t[0]);if(o&&n){for(var l=0;l<e.length;l++)0<l&&(a+=s),a+=m(e[l],l);0<t.length&&(a+=r)}for(var d=0;d<t.length;d++){var h=o?e.length:t[d].length,c=!1,p=o?0===Object.keys(t[d]).length:0===t[d].length;if(i&&!o&&(c="greedy"===i?""===t[d].join("").trim():1===t[d].length&&0===t[d][0].length),"greedy"===i&&o){for(var f=[],g=0;g<h;g++){var v=u?e[g]:g;f.push(t[d][v])}c=""===f.join("").trim()}if(!c){for(var _=0;_<h;_++){0<_&&!p&&(a+=s);var y=o&&u?e[_]:_;a+=m(t[d][y],_)}d<t.length-1&&(!i||0<h&&!p)&&(a+=r)}}return a}function m(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var n=e.toString().replace(h,u);return"boolean"==typeof i&&i||"function"==typeof i&&i(e,t)||Array.isArray(i)&&i[t]||function(e,t){for(var i=0;i<t.length;i++)if(-1<e.indexOf(t[i]))return!0;return!1}(n,a.BAD_DELIMITERS)||-1<n.indexOf(s)||" "===n.charAt(0)||" "===n.charAt(n.length-1)?o+n+o:n}}};if(a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\ufeff",a.BAD_DELIMITERS=["\r","\n",'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!i&&!!t.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=m,a.ParserHandle=p,a.NetworkStreamer=l,a.FileStreamer=d,a.StringStreamer=h,a.ReadableStreamStreamer=c,t.jQuery){var o=t.jQuery;o.fn.parse=function(e){var i=e.config||{},n=[];return this.each((function(e){if("INPUT"!==o(this).prop("tagName").toUpperCase()||"file"!==o(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var s=0;s<this.files.length;s++)n.push({file:this.files[s],inputElem:this,instanceConfig:o.extend({},i)})})),s(),this;function s(){if(0!==n.length){var t,i,s,u=n[0];if(w(e.before)){var l=e.before(u.file,u.inputElem);if("object"==typeof l){if("abort"===l.action)return t=u.file,i=u.inputElem,s=l.reason,void(w(e.error)&&e.error({name:"AbortError"},t,i,s));if("skip"===l.action)return void r();"object"==typeof l.config&&(u.instanceConfig=o.extend(u.instanceConfig,l.config))}else if("skip"===l)return void r()}var d=u.instanceConfig.complete;u.instanceConfig.complete=function(e){w(d)&&d(e,u.file,u.inputElem),r()},a.parse(u.file,u.instanceConfig)}else w(e.complete)&&e.complete()}function r(){n.splice(0,1),s()}}}function u(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=y(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new p(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,i){if(this.isFirstChunk&&w(this._config.beforeFirstChunk)){var s=this._config.beforeFirstChunk(e);void 0!==s&&(e=s)}this.isFirstChunk=!1,this._halted=!1;var r=this._partialLine+e;this._partialLine="";var o=this._handle.parse(r,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var u=o.meta.cursor;this._finished||(this._partialLine=r.substring(u-this._baseIndex),this._baseIndex=u),o&&o.data&&(this._rowCount+=o.data.length);var l=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(n)t.postMessage({results:o,workerId:a.WORKER_ID,finished:l});else if(w(this._config.chunk)&&!i){if(this._config.chunk(o,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);o=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(o.data),this._completeResults.errors=this._completeResults.errors.concat(o.errors),this._completeResults.meta=o.meta),this._completed||!l||!w(this._config.complete)||o&&o.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),l||o&&o.meta.paused||this._nextChunk(),o}this._halted=!0},this._sendError=function(e){w(this._config.error)?this._config.error(e):n&&this._config.error&&t.postMessage({workerId:a.WORKER_ID,error:e,finished:!1})}}function l(e){var t;(e=e||{}).chunkSize||(e.chunkSize=a.RemoteChunkSize),u.call(this,e),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),i||(t.onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)),t.open("GET",this._input,!i),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var n in e)t.setRequestHeader(n,e[n])}if(this._config.chunkSize){var s=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+s)}try{t.send()}catch(e){this._chunkError(e.message)}i&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substr(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var i=t.statusText||e;this._sendError(new Error(i))}}function d(e){var t,i;(e=e||{}).chunkSize||(e.chunkSize=a.LocalChunkSize),u.call(this,e);var n="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,i=e.slice||e.webkitSlice||e.mozSlice,n?((t=new FileReader).onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var s=Math.min(this._start+this._config.chunkSize,this._input.size);e=i.call(e,this._start,s)}var r=t.readAsText(e,this._config.encoding);n||this._chunkLoaded({target:{result:r}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function h(e){var t;u.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e=this._config.chunkSize,i=e?t.substr(0,e):t;return t=e?t.substr(e):"",this._finished=!t,this.parseChunk(i)}}}function c(e){u.call(this,e=e||{});var t=[],i=!0,n=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){n&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):i=!0},this._streamData=b((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),i&&(i=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=b((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=b((function(){this._streamCleanUp(),n=!0,this._streamData("")}),this),this._streamCleanUp=b((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function p(e){var t,i,n,s=Math.pow(2,53),r=-s,o=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,u=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,l=this,d=0,h=0,c=!1,p=!1,g=[],v={data:[],errors:[],meta:{}};if(w(e.step)){var _=e.step;e.step=function(t){if(v=t,x())k();else{if(k(),0===v.data.length)return;d+=t.data.length,e.preview&&d>e.preview?i.abort():_(v,l)}}}function b(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function k(){if(v&&n&&(E("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),n=!1),e.skipEmptyLines)for(var t=0;t<v.data.length;t++)b(v.data[t])&&v.data.splice(t--,1);return x()&&function(){if(v)if(Array.isArray(v.data[0])){for(var t=0;x()&&t<v.data.length;t++)v.data[t].forEach(i);v.data.splice(0,1)}else v.data.forEach(i);function i(t){w(e.transformHeader)&&(t=e.transformHeader(t)),g.push(t)}}(),function(){if(!v||!e.header&&!e.dynamicTyping&&!e.transform)return v;function t(t,i){var n,s=e.header?{}:[];for(n=0;n<t.length;n++){var r=n,a=t[n];e.header&&(r=n>=g.length?"__parsed_extra":g[n]),e.transform&&(a=e.transform(a,r)),a=C(r,a),"__parsed_extra"===r?(s[r]=s[r]||[],s[r].push(a)):s[r]=a}return e.header&&(n>g.length?E("FieldMismatch","TooManyFields","Too many fields: expected "+g.length+" fields but parsed "+n,h+i):n<g.length&&E("FieldMismatch","TooFewFields","Too few fields: expected "+g.length+" fields but parsed "+n,h+i)),s}var i=1;return!v.data.length||Array.isArray(v.data[0])?(v.data=v.data.map(t),i=v.data.length):v.data=t(v.data,0),e.header&&v.meta&&(v.meta.fields=g),h+=i,v}()}function x(){return e.header&&0===g.length}function C(t,i){return n=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[n]&&(e.dynamicTyping[n]=e.dynamicTypingFunction(n)),!0===(e.dynamicTyping[n]||e.dynamicTyping)?"true"===i||"TRUE"===i||"false"!==i&&"FALSE"!==i&&(function(e){if(o.test(e)){var t=parseFloat(e);if(r<t&&t<s)return!0}return!1}(i)?parseFloat(i):u.test(i)?new Date(i):""===i?null:i):i;var n}function E(e,t,i,n){v.errors.push({type:e,code:t,message:i,row:n})}this.parse=function(s,r,o){var u=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substr(0,1048576);var i=new RegExp(f(t)+"([^]*?)"+f(t),"gm"),n=(e=e.replace(i,"")).split("\r"),s=e.split("\n"),r=1<s.length&&s[0].length<n[0].length;if(1===n.length||r)return"\n";for(var a=0,o=0;o<n.length;o++)"\n"===n[o][0]&&a++;return a>=n.length/2?"\r\n":"\r"}(s,u)),n=!1,e.delimiter)w(e.delimiter)&&(e.delimiter=e.delimiter(s),v.meta.delimiter=e.delimiter);else{var l=function(t,i,n,s,r){var o,u,l,d;r=r||[",","\t","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var h=0;h<r.length;h++){var c=r[h],p=0,f=0,g=0;l=void 0;for(var v=new m({comments:s,delimiter:c,newline:i,preview:10}).parse(t),_=0;_<v.data.length;_++)if(n&&b(v.data[_]))g++;else{var y=v.data[_].length;f+=y,void 0!==l?0<y&&(p+=Math.abs(y-l),l=y):l=y}0<v.data.length&&(f/=v.data.length-g),(void 0===u||p<=u)&&(void 0===d||d<f)&&1.99<f&&(u=p,o=c,d=f)}return{successful:!!(e.delimiter=o),bestDelimiter:o}}(s,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);l.successful?e.delimiter=l.bestDelimiter:(n=!0,e.delimiter=a.DefaultDelimiter),v.meta.delimiter=e.delimiter}var d=y(e);return e.preview&&e.header&&d.preview++,t=s,i=new m(d),v=i.parse(t,r,o),k(),c?{meta:{paused:!0}}:v||{meta:{paused:!1}}},this.paused=function(){return c},this.pause=function(){c=!0,i.abort(),t=t.substr(i.getCharIndex())},this.resume=function(){l.streamer._halted?(c=!1,l.streamer.parseChunk(t,!0)):setTimeout(this.resume,3)},this.aborted=function(){return p},this.abort=function(){p=!0,i.abort(),v.meta.aborted=!0,w(e.complete)&&e.complete(v),t=""}}function f(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(e){var t,i=(e=e||{}).delimiter,n=e.newline,s=e.comments,r=e.step,o=e.preview,u=e.fastMode,l=t=void 0===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(l=e.escapeChar),("string"!=typeof i||-1<a.BAD_DELIMITERS.indexOf(i))&&(i=","),s===i)throw new Error("Comment character same as delimiter");!0===s?s="#":("string"!=typeof s||-1<a.BAD_DELIMITERS.indexOf(s))&&(s=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var d=0,h=!1;this.parse=function(e,a,c){if("string"!=typeof e)throw new Error("Input must be a string");var p=e.length,m=i.length,g=n.length,v=s.length,_=w(r),y=[],b=[],k=[],x=d=0;if(!e)return z();if(u||!1!==u&&-1===e.indexOf(t)){for(var C=e.split(n),E=0;E<C.length;E++){if(k=C[E],d+=k.length,E!==C.length-1)d+=n.length;else if(c)return z();if(!s||k.substr(0,v)!==s){if(_){if(y=[],D(k.split(i)),M(),h)return z()}else D(k.split(i));if(o&&o<=E)return y=y.slice(0,o),z(!0)}}return z()}for(var S=e.indexOf(i,d),q=e.indexOf(n,d),O=new RegExp(f(l)+f(t),"g"),R=e.indexOf(t,d);;)if(e[d]!==t)if(s&&0===k.length&&e.substr(d,v)===s){if(-1===q)return z();d=q+g,q=e.indexOf(n,d),S=e.indexOf(i,d)}else{if(-1!==S&&(S<q||-1===q)){if(!(S<R)){k.push(e.substring(d,S)),d=S+m,S=e.indexOf(i,d);continue}var A=P(S,R,q);if(A&&void 0!==A.nextDelim){S=A.nextDelim,R=A.quoteSearch,k.push(e.substring(d,S)),d=S+m,S=e.indexOf(i,d);continue}}if(-1===q)break;if(k.push(e.substring(d,q)),N(q+g),_&&(M(),h))return z();if(o&&y.length>=o)return z(!0)}else for(R=d,d++;;){if(-1===(R=e.indexOf(t,R+1)))return c||b.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:y.length,index:d}),I();if(R===p-1)return I(e.substring(d,R).replace(O,t));if(t!==l||e[R+1]!==l){if(t===l||0===R||e[R-1]!==l){var L=j(-1===q?S:Math.min(S,q));if(e[R+1+L]===i){k.push(e.substring(d,R).replace(O,t)),e[d=R+1+L+m]!==t&&(R=e.indexOf(t,d)),S=e.indexOf(i,d),q=e.indexOf(n,d);break}var T=j(q);if(e.substr(R+1+T,g)===n){if(k.push(e.substring(d,R).replace(O,t)),N(R+1+T+g),S=e.indexOf(i,d),R=e.indexOf(t,d),_&&(M(),h))return z();if(o&&y.length>=o)return z(!0);break}b.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:y.length,index:d}),R++}}else R++}return I();function D(e){y.push(e),x=d}function j(t){var i=0;if(-1!==t){var n=e.substring(R+1,t);n&&""===n.trim()&&(i=n.length)}return i}function I(t){return c||(void 0===t&&(t=e.substr(d)),k.push(t),d=p,D(k),_&&M()),z()}function N(t){d=t,D(k),k=[],q=e.indexOf(n,d)}function z(e,t){return{data:t?y[0]:y,errors:b,meta:{delimiter:i,linebreak:n,aborted:h,truncated:!!e,cursor:x+(a||0)}}}function M(){r(z(void 0,!0)),y=[],b=[]}function P(n,s,r){var a={nextDelim:void 0,quoteSearch:void 0},o=e.indexOf(t,s+1);if(s<n&&n<o&&(o<r||-1===r)){var u=e.indexOf(i,o);if(-1===u)return a;o<u&&(o=e.indexOf(t,o+1)),a=P(u,o,r)}else a={nextDelim:n,quoteSearch:s};return a}},this.abort=function(){h=!0},this.getCharIndex=function(){return d}}function g(e){var t=e.data,i=s[t.workerId],n=!1;if(t.error)i.userError(t.error,t.file);else if(t.results&&t.results.data){var r={abort:function(){n=!0,v(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_,resume:_};if(w(i.userStep)){for(var a=0;a<t.results.data.length&&(i.userStep({data:t.results.data[a],errors:t.results.errors,meta:t.results.meta},r),!n);a++);delete t.results}else w(i.userChunk)&&(i.userChunk(t.results,r,t.file),delete t.results)}t.finished&&!n&&v(t.workerId,t.results)}function v(e,t){var i=s[e];w(i.userComplete)&&i.userComplete(t),i.terminate(),delete s[e]}function _(){throw new Error("Not implemented.")}function y(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var i in e)t[i]=y(e[i]);return t}function b(e,t){return function(){e.apply(t,arguments)}}function w(e){return"function"==typeof e}return n&&(t.onmessage=function(e){var i=e.data;if(void 0===a.WORKER_ID&&i&&(a.WORKER_ID=i.workerId),"string"==typeof i.input)t.postMessage({workerId:a.WORKER_ID,results:a.parse(i.input,i.config),finished:!0});else if(t.File&&i.input instanceof File||i.input instanceof Object){var n=a.parse(i.input,i.config);n&&t.postMessage({workerId:a.WORKER_ID,results:n,finished:!0})}}),(l.prototype=Object.create(u.prototype)).constructor=l,(d.prototype=Object.create(u.prototype)).constructor=d,(h.prototype=Object.create(h.prototype)).constructor=h,(c.prototype=Object.create(u.prototype)).constructor=c,a})?n.apply(t,s):n)||(e.exports=r)},function(e,t,i){},function(e,t,i){"use strict";i.r(t);i(1);var n=i(0),s=i.n(n);function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t.el)throw new Error("An element must be set. Use a css selector or an HTML element that already exist on the DOM.");"string"==typeof t.el&&(this.el=document.querySelector(t.el)),t.el instanceof Element&&(this.el=t.el),"string"==typeof t.questions?this.questions=JSON.parse(t.questions):this.questions=t.questions,this.mode=t.mode,this.score=0,this.step=0,this.slots={},this.answer=[],this.selected=null,this.history=[],this.session_id=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),this.handleAnswerChange=this.handleAnswerChange.bind(this),this.handleNextButton=this.handleNextButton.bind(this)}var t,i,n;return t=e,(i=[{key:"init",value:function(){this.createSlots(),this.play()}},{key:"createSlots",value:function(){this.slots.progress=document.createElement("div"),this.slots.questions=document.createElement("div"),this.slots.score=document.createElement("div"),this.slots.button=document.createElement("button"),this.slots.progress.classList.add("trivia-progress"),this.slots.questions.classList.add("trivia-questions"),this.slots.score.classList.add("trivia-score"),this.slots.button.classList.add("trivia-next"),this.el.appendChild(this.slots.progress),this.el.appendChild(this.slots.questions),this.el.appendChild(this.slots.button),this.registerNextButton()}},{key:"registerNextButton",value:function(){this.slots.button.textContent="Siguiente",this.slots.button.addEventListener("click",this.handleNextButton)}},{key:"updateProgress",value:function(){this.slots.progress.textContent="".concat(this.step+1," de ").concat(this.questions.length)}},{key:"isOver",value:function(){return this.step===this.questions.length}},{key:"play",value:function(){if(this.isOver())this.endGame();else{this.slots.button.setAttribute("disabled",""),this.updateProgress();var e=this.renderQuestion();this.slots.questions.hasChildNodes()?this.slots.questions.replaceChild(e,this.slots.questions.childNodes[0]):this.slots.questions.appendChild(e),this.enableGame()}}},{key:"enableGame",value:function(){this.el.querySelector(".trivia-answers").addEventListener("change",this.handleAnswerChange)}},{key:"handleAnswerChange",value:function(e){var t=parseInt(e.target.value,10);this.selected&&this.selected.classList.remove("is-selected"),this.selected=e.target.parentNode,this.selected.classList.add("is-selected"),this.answer.includes(t)?this.answer.splice(this.answer.indexOf(t),1):this.answer.push(t),this.slots.button.removeAttribute("disabled")}},{key:"handleNextButton",value:function(){var e,t=this.questions[this.step];"perception"===this.mode?"singular"===t.mode&&(e=t.answer[this.answer[0]],this.history.push({session_id:this.session_id,question_id:t.id,question_type:t.type,answer_weight:e})):e=this.answer.filter((function(e){return t.answer.includes(e)})).length/t.answer.length,this.step+1===this.questions.length-1&&(this.slots.button.textContent="Finalizar"),this.score+=e,this.el.querySelector(".trivia-answers").removeEventListener("change",this.handleAnswerChange),this.step=this.step+1,this.answer=[],this.play()}},{key:"endGame",value:function(){var e=this.questions.length,t="perception"===this.mode?this.score/e:this.score,i=new CustomEvent("ended",{detail:{score:t,questions:e,history:this.history}});this.el.dispatchEvent(i)}},{key:"renderQuestion",value:function(){var e=this.questions[this.step],t=document.createElement("div"),i=document.createElement("p"),n=document.createElement("div");return t.classList.add("trivia-question"),i.classList.add("trivia-question-text"),n.classList.add("trivia-answers"),i.textContent=e.text,e.choices.forEach((function(t,i){var s=document.createElement("label"),r=document.createElement("input"),a=document.createElement("span");s.classList.add("trivia-answer"),a.textContent=t,r.setAttribute("type","singular"===e.mode?"radio":"checkbox"),r.setAttribute("name","question"),r.setAttribute("value",i),s.appendChild(r),s.appendChild(a),n.appendChild(s)})),t.appendChild(i),t.appendChild(n),t}}])&&r(t.prototype,i),n&&r(t,n),e}(),o={bucket:"avina-trivia-verdad",key:"data/db.csv"},u=new a({el:document.getElementById("trivia"),questions:[{id:1,text:"Su pareja la/lo ha invitado a cenar y llega con un costoso anillo de regalo. Resulta que a usted no le gusta, quizá le parece tan feo que no se sienta capaz de llegar a usarlo nunca. ¿Qué dice usted?",choices:["Divino, me encanta.","Amor, debes haber gastado una fortuna. ¡Gracias! (y evade el tema del anillo)","Gracias, pero la verdad no me gusta. ¿Podríamos tratar de cambiarlo?","Qué detalle tan lindo. Eres muy detallista. Sin embargo el diseño no es que me enloquezca, ¿podríamos tratar de cambiarlo?"],answer:[0,25,75,100],mode:"singular",type:"weight_scale"},{id:2,text:"¿Alguna vez ha hecho trampa en algún exámen?",choices:["Sí","No"],answer:[0,100],mode:"singular",type:"weight_scale"},{id:3,text:"¿Dijo o ha dicho alguna mentira a sus profesores?",choices:["Sí","No"],answer:[0,100],mode:"singular",type:"weight_scale"},{id:4,text:"¿Alguna vez mintió a sus padres para poder salir, no hacer las tareas, no ir al colegio, etc?",choices:["Sí","No"],answer:[0,100],mode:"singular",type:"weight_scale"},{id:5,text:"¿Le ha mentido a sus amigos/as acerca de sus posesiones, sus experiencias o su historia personal?",choices:["Sí","No"],answer:[0,100],mode:"singular",type:"weight_scale"},{id:6,text:"¿Ha mentido acerca de sus experiencias, de su historia personal, de sus posesiones o conocimientos a alguien que le interesaba sentimentalmente?",choices:["Sí","No"],answer:[0,100],mode:"singular",type:"weight_scale"},{id:7,text:"¿Ha mentido acerca de alguna infidelidad amorosa?",choices:["Sí","No"],answer:[0,100],mode:"singular",type:"weight_scale"},{id:8,text:"¿Ha dicho alguna mentira para obtener algún trabajo?",choices:["Sí","No"],answer:[0,100],mode:"singular",type:"weight_scale"},{id:9,text:"Usted está en el parque de atracciones mecánicas con su pareja y sus hijos haciendo la fila para subir a la Rueda de Chicago. Un anuncio indica que todo niño menor de 10 años no paga boleta. Para evitarse un pago su pareja le pide que mienta sobre la edad de su hijo mayor, que ya tiene 11. ¿Usted qué hace?",choices:["Hablo en privado con mi esposa para decirle que no va a mentir","Habla en familia por qué está en desacuerdo con mentir","Obvio, si se ve pequeño el niño, tiro a ahorrar lo de la boleta"],answer:[50,100,0],mode:"singular",type:"weight_scale"},{id:10,text:"¿Alguna vez lo/la castigaron por decir la verdad?",choices:["Sí","No"],answer:[100,0],mode:"singular",type:"weight_scale"},{id:11,text:"¿Alguna vez su papá o mamá, o la persona encargada de su crianza, le pidió decir una mentira?",choices:["Sí","No"],answer:[100,0],mode:"singular",type:"weight_scale"},{id:12,text:"¿Alguna vez se confabuló con su papá o mamá para mentir?",choices:["Sí","No"],answer:[0,100],mode:"singular",type:"weight_scale"},{id:13,text:"¿Veía a su papá o mámá mentir delante suyo?",choices:["Sí","No"],answer:[0,100],mode:"singular",type:"weight_scale"},{id:14,text:"¿Alguna vez lo/la han premiado por ser sincero/a?",choices:["Sí","No"],answer:[100,0],mode:"singular",type:"weight_scale"},{id:15,text:"¿Ha visto a su papá o mamá enfrentar la verdad con valentía?",choices:["Sí","No"],answer:[100,0],mode:"singular",type:"weight_scale"},{id:16,text:"Usted va en el carro de un amigo que mientras conduce habla por su teléfono móvil. La policía de tránsito los detiene y usted escucha cómo su amigo le jura al policía que no estaba hablando por teléfono. Para zanjar la discusión el policía le pregunta a usted si es cierto o no que su amigo estaba hablando por teléfono mientras conducía. ¿Cuál sería su respuesta?",choices:["Sí señor agente, usted tiene la razón, mi amigo hablaba por su teléfono mientras conducía","Obvio que no, íbamos conversando juntos","Señor agente, ¿por qué no arreglamos esto por las buenas?","No me di cuenta, estaba distraído"],answer:[100,25,0,75],mode:"singular",type:"weight_scale"},{id:17,text:"A usted le gusta hablar con Pedro y tratar de ayudarlo con algunos de sus problemas personales, pero no tiene ningún sentimiento romántico hacia él. Sin embargo Pedro la invita a salir el viernes con intenciones claramente románticas y no de amistad. Usted qué contesta:",choices:["No Pedrito, me caes bien pero no estoy interesada en ti. Si es una salida de amigos vamos, de lo contrario no.","Voy a decirle que sí pero el viernes me invento algo para no poder ir","Toca aceptar porque qué pena o qué pecado decirle que no. Ya en la disco busco cómo evadirme"],answer:[100,50,0],mode:"singular",type:"weight_scale"},{id:18,text:"¿Bajo qué circunstancias su compromiso con la verdad flaquea?",choices:["Cuando me da pena aceptar algo acerca de mi mismo","Cuando los beneficios a cambio de la mentira son muy altos (conseguir un trabajo,una rebaja...)","Cuando decir la verdad es injusto","Cuando el propósito es noble"],answer:[25,0,75,100],mode:"singular",type:"weight_scale"},{id:19,text:"¿Ha mentido sobre su vida amorosa para hacerla parecer más exitosa?",choices:["Sí","No"],answer:[0,100],mode:"singular",type:"weight_scale"},{id:20,text:"¿Ha mentido sobre su vida sexual?",choices:["Sí","No"],answer:[0,100],mode:"singular",type:"weight_scale"},{id:21,text:"¿Ha mentido sobre sus logros profesionales?",choices:["Sí","No"],answer:[0,100],mode:"singular",type:"weight_scale"},{id:22,text:"¿Ha simulado saber o entender de un tema por pena a parecer ignorante?",choices:["Sí","No"],answer:[0,100],mode:"singular",type:"weight_scale"}],mode:"perception"});u.init(),u.el.addEventListener("ended",(function(e){var t=s.a.unparse(e.detail.history),i=Object.assign(o,{answers:t});fetch("".concat("https://o3q3l9elhd.execute-api.us-east-1.amazonaws.com/beta","/add-answer"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then((function(e){return e.json()})).then((function(){alert("Respuestas guardadas")}))}))}]);
//# sourceMappingURL=main.js.map